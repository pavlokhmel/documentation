<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Known issues &mdash; Sigma2 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="_static/tabs.css" type="text/css" />
      <link rel="stylesheet" href="_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css" type="text/css" />
      <link rel="stylesheet" href="_static/nris.css" type="text/css" />
    <link rel="shortcut icon" href="_static/nris.ico"/>
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js?v=5d32c60e"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="_static/documentation_options.js?v=5929fcd5"></script>
        <script src="_static/doctools.js?v=888ff710"></script>
        <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
        <script async="async" src="https://siteimproveanalytics.com/js/siteanalyze_6036825.js"></script>
        <script src="_static/design-tabs.js?v=36754332"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            Sigma2/NRIS documentation
              <img src="_static/NRIS Logo.svg" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Policies</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="code-of-conduct.html">Code of Conduct</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Getting help</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="getting_help/support_line.html">Getting help</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting_help/extended_support.html">Extended support</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting_help/faq.html">Frequently asked questions</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting_help/how_to_write_good_support_requests.html">Writing good support requests</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting_help/user_communities.html">User communities</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting_help/qa-sessions.html">Open Question &amp; Answer Sessions for All Users</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting_help/lost_forgotten_password.html">Lost, expiring or changing passwords</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting_help/project_leader_support.html">Project leader support</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Training</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="training/events.html">Training events</a></li>
<li class="toctree-l1"><a class="reference internal" href="training/notes_qa.html">Questions, Answers and Feedbacks</a></li>
<li class="toctree-l1"><a class="reference internal" href="training/videos.html">Training Video Archives</a></li>
<li class="toctree-l1"><a class="reference internal" href="training/material.html">Training materials</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Getting started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="getting_started/getting_started.html">Getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting_started/opslog.html">Using the status system (opslog)</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting_started/applying_account.html">How do I get an account?</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting_started/applying_resources.html">Applying for computing and storage</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting_started/editing_files.html">Editing files</a></li>
<li class="toctree-l1"><a class="reference internal" href="code_development/guides/vs_code/connect_to_server.html">Connecting to a system with Visual Studio Code</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting_started/ssh.html">SSH</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting_started/remote-desktop.html">Remote Desktop</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting_started/R.html">First R calculation</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Services</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="nird_archive/user-guide.html">Research Data Archive (NIRD RDA)</a></li>
<li class="toctree-l1"><a class="reference internal" href="nird_toolkit/overview.html">NIRD Toolkit</a></li>
<li class="toctree-l1"><a class="reference internal" href="services/easydmp-user-documentation.html">EasyDMP User Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting_help/course_resources.html">CRaaS - Course Resources as a Service</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">HPC usage</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="hpc_machines/migration2metacenter.html">Migration to an NRIS HPC machine</a></li>
<li class="toctree-l1"><a class="reference internal" href="computing/responsible-use.html">Using shared resources responsibly</a></li>
<li class="toctree-l1"><a class="reference internal" href="jobs/overview.html">Running jobs</a></li>
<li class="toctree-l1"><a class="reference internal" href="computing/tuning-applications.html">Tuning applications</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Code development and tutorials</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="code_development/overview.html">Code development and tutorials</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Software</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="software/modulescheme.html">Software module scheme</a></li>
<li class="toctree-l1"><a class="reference internal" href="software/installed_software.html">Installed software</a></li>
<li class="toctree-l1"><a class="reference internal" href="software/userinstallsw.html">Installing software as user</a></li>
<li class="toctree-l1"><a class="reference internal" href="software/appguides.html">Application guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="software/licenses.html">Licence and access policies</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Files, storage and backup</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="files_storage/nird_lmd.html">NIRD</a></li>
<li class="toctree-l1"><a class="reference internal" href="files_storage/clusters.html">Storage areas on HPC clusters</a></li>
<li class="toctree-l1"><a class="reference internal" href="files_storage/quota.html">Storage quota</a></li>
<li class="toctree-l1"><a class="reference internal" href="files_storage/backup.html">Backup on Betzy, Fram, Saga, and NIRD</a></li>
<li class="toctree-l1"><a class="reference internal" href="files_storage/file_transfer.html">File transfer</a></li>
<li class="toctree-l1"><a class="reference internal" href="files_storage/sharing_files.html">Data handling and storage policy</a></li>
<li class="toctree-l1"><a class="reference internal" href="files_storage/performance.html">Optimizing storage performance</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Sigma2/NRIS documentation</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Known issues</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/UNINETTSigma2/documentation/blob/main/known-issues.md" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="known-issues">
<span id="id1"></span><h1>Known issues<a class="headerlink" href="#known-issues" title="Link to this heading"></a></h1>
<p>For latest changes and events please follow the
<a class="reference external" href="https://opslog.sigma2.no">OpsLog page</a>
which tracks a lot over changes and events.</p>
<p>This “Known issues” page on the other hand is meant to list more longer-term
problems that we know about and either work on or where we recommend
work-arounds, so that you don’t have to scroll the
<a class="reference external" href="https://opslog.sigma2.no">OpsLog page</a>
weeks back to find a known issue.</p>
<ul class="simple">
<li><p><strong>Email notification from completed Slurm scripts is currently disabled</strong> on all
machines and it looks like it will take quite a while (months?) before we can
re-enable it. Sorry for the inconvenience. The reason is technical due to the
way the infrastructure is set up. It is non-trivial for us to re-enable this in
a good and robust and secure way.</p></li>
<li><p><strong>InfiniBand problems on Betzy</strong>: There is a problem with high core count
jobs failing due to an InfiniBand problem which emits messages of the “excess
retry”. This is an ongoing problem, but shows up (more) on high core count
jobs.</p></li>
<li><p><strong>Running jobs hang and consume compute resources</strong>: on Fram and Betzy
there is a randomly occurring problem that results in Zombie / unkillable
processes. Amongst others, this happens when some of the application processes
execute <code class="docutils literal notranslate"><span class="pre">MPI_Abort</span></code>, or otherwise crash while other ranks are performing MPI communication.
With Intel MPI, this often results in the job hanging forever, or until it runs out
of the SLURM allocated time. At this stage, to avoid this issue users should
either make sure that all ranks call <code class="docutils literal notranslate"><span class="pre">MPI_Abort</span></code> at the same time (which might
of course be impossible), or use OpenMPI. In the latter case, although the Zombie
processes might also be created, we believe this does not result in a hanging
application and waste of compute resources.</p></li>
<li><p><strong>Slow performance with netCDF4 files</strong>: Few users have reported this and this
seems to be related to the problem described <a class="reference external" href="https://github.com/Unidata/netcdf-c/issues/489">here</a>.
A solution seems to be to convert the files from the netcdf-4 format to the
netcdf-64bit offset format with the command <code class="docutils literal notranslate"><span class="pre">$</span> <span class="pre">nccopy</span> <span class="pre">-k</span> <span class="pre">nc6</span> <span class="pre">file1</span> <span class="pre">file2</span></code>.</p></li>
<li><p>Don’t use <code class="docutils literal notranslate"><span class="pre">--hint=nomultithread</span></code> in jobs on Fram, at least not with
Intel MPI.  If you do, the result is that all the tasks (ranks) will
be bound to the first CPU core on each compute node.</p></li>
</ul>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, Sigma2/NRIS. Text shared under CC-BY 4.0 license.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
<!-- Integrate opslog banner -->
<span class="sp-status"></span>
<script>
  window.statuspalWidget = {
    subdomain: 'sigma2-nris',
    host: 'https://statuspal.eu',
    badge: {
      enabled: false,
      selector: '.sp-status', 
    },
    banner: {
      enabled: true,
      position: 'top-right',
    }
  }
</script>
<script src="https://statuspal.io/js/widget.js"></script>


</body>
</html>